<div class="profile-container">
  @if (this.userProfile$ | async; as user){

    <h1>User Profile</h1>

    <div class="section">
      <h2>User information</h2>
      <div class="info-item"><span>Name:</span> {{user.name}}</div>
      <div class="info-item"><span>Surname:</span> {{user.surname}}</div>
      <div class="info-item"><span>Email:</span> <a href="mailto:{{user.email}}"> {{user.email}}</a></div>
      <div class="info-item"><span>Телефон:</span> {{user.phoneNumber}}</div>
      <div class="info-item"><span>English Level:</span> {{user.englishLevel}}</div>
      <div class="info-item"><span>GitHub:</span> <a href="{{user.gitHubLink}}" target="_blank">{{user.gitHubLink}}</a></div>
      <div class="info-item"><span>Description Skill:</span> {{user.descriptionSkill}}</div>
    </div>
  }

  <div class="section">
    <h2>List of previous companies</h2>
    <button (click)="isAddCompany.set(!isAddCompany())">+ add company</button>
    <ul class="companies-list">
      <li class="company_form">
      @if (isAddCompany()){

        <form class="company_form" [formGroup]="companyFG">
          <label id="tradeName">Trade Name </label>
          <input name="tradeName" formControlName="tradeName" placeholder="Trade Name">

          <label id="dataStart">Data Start </label>
          <input type="date" name="dataStart" formControlName="dataStart" placeholder="Data Start">

          <label id="dataEnd">Data End </label>
          <input type="date" name="dataEnd" formControlName="dataEnd" placeholder="Data End">

          <label id="positionUser">Position </label>
          <input name="positionUser" formControlName="positionUser" placeholder="Position">

          <label id="descriptionUsersWork">Descript your work </label>
          <textarea id="descript_area" name="descriptionUsersWork" formControlName="descriptionUsersWork" placeholder="Descript your work"></textarea>

          <label id="link">Company link </label>
          <input type="url" name="link" formControlName="link" placeholder="Company link">

          <input name="appUserId" formControlName="appUserId">
          <button type="submit">Add Company</button>
        </form>
      }

      </li>
    </ul>
  </div>

  <div class="section">
    <h2>Skills</h2>
    <ul class="skills-list">
      @if (userSkillList$ | async; as skillList){
        @for (skill of skillList; track skill){
          <li>{{skill.skillName}} <small>{{skill.proficiencyLevel}}</small></li>

        }
      }
    </ul>
  </div>
</div>
